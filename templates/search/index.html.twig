{% extends 'base.html.twig' %}

{% block title %}Résultat de la recherche{% endblock %}

{% block start_container %}{% endblock %}
{% block end_container %}{% endblock %}
{% block body %}

<div class="container-fluid">
    <div class="row">
        <div class="col-3"></div>
        <div class="col-9">
            <h2>Résultat de la recherche pour : <code>{{result}}</code></h2>
        </div>
    </div><br>
<div class="row">
    <div class="col-3">
        <div class="col-12">
            
        <form action="" method="GET">
            <div class="text-center">
                <h3>Filtres</h3>
            </div><hr>
            <div>
                <h4>Jeux</h4>
                <ul class="list-unstyled">
                    {% for cat in categories %}
                    <li><input type="checkbox" name="search" aria-label="{{cat}}"> {{cat}}</li>
                    {% endfor %}
                </ul>
            </div>

            <div>
                <h4>Tranche d'âge</h4>
                <ul class="list-unstyled">
                    <li><input type="checkbox"> 0/3</li>
                    <li><input type="checkbox"> 4/6</li>
                    <li><input type="checkbox"> 7/9</li>
                    <li><input type="checkbox"> 10/12</li>
                    <li><input type="checkbox"> 13/15</li>
                    <li><input type="checkbox"> 15 ans et plus</li>
                </ul>
            </div>

            <div>
            <h4>Nombre de joueurs</h4>
            <ul class="list-unstyled">
                <li><input type="checkbox"> 1</li>
                <li><input type="checkbox"> 2</li>
                <li><input type="checkbox"> 3</li>
                <li><input type="checkbox"> 4</li>
                <li><input type="checkbox"> 5</li>
                <li><input type="checkbox"> 6 et +</li>
            </ul>
            </div>

            <div>
                <h4>Temps de jeu</h4>
                <ul class="list-unstyled">
                    <li><input type="checkbox"> moins de 15 minutes</li>
                    <li><input type="checkbox"> 30 minutes</li>
                    <li><input type="checkbox"> 45 minutes</li>
                    <li><input type="checkbox"> 60 minutes</li>
                    <li><input type="checkbox"> 90 minutes</li>
                    <li><input type="checkbox"> 120 minutes</li>
                    <li><input type="checkbox"> 140 minutes</li>
                </ul>
            </div>
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Trouver</button>
        </form>
        </div>
    </div>
    <div class="col-9">
        
        <div class="col-12 card-columns d-flex flex-wrap justify-content-around">
            {% for game in games %}
                {% if game.picture is empty%}
            
                {% else %}
                    <div class="card text-center mb-5" style="width: 18rem;">
                        {% for picture in game.picture %}
                            <a href="{{path('app_onegame', {'id': game.id})}}"><img src="{{ '/images/' ~ picture.name }}" alt="{{ picture.name }}" class="card-img-top" style="height: 18rem;"></a>
                        {% endfor %}
                        <div class="card-body row">
                            <h5 class="card-title col-12"><a href="{{path('app_onegame', {'id': game.id})}}"><strong> {{ game.title }}</strong></a></h5>

                            {% if app.user %}
                                
                                <div class="col-6"><a href="{{path('app_login')}}" class="btn btn-info" > Louer</a></div>
                                
                                <div class="col-6"><a href="{{path('app_cart_add', {'id': game.id})}}" class="btn" style="background-color: #b5179e; color: white;"> Acheter</a><div>{{ game.sellingPrice }} €</div></div>
                                
    
                            {% else %}
                                
                                <div class="col-6"><a href="{{path('app_login')}}" class="btn btn-info" > Louer</a></div>
                                
                                <div class="col-6"><a href="{{path('app_login')}}" class="btn" style="background-color: #b5179e; color: white;"> Acheter</a>
                                <div>{{ game.sellingPrice }} €</div>
                                </div>
    
                        </div>
                            {% endif %}
                        
                    </div> 
                {% endif %} 
            {% else %}
                <h3>Aucun résultat trouvé</h3>             
            {% endfor %}
        </div>
    </div>
</div>
</div>
{% endblock %}
